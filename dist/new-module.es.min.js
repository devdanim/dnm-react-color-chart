import t from"react";import e from"prop-types";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?c(t):e}var l=function(e){function n(){return r(this,n),f(this,u(n).apply(this,arguments))}return i(n,t.PureComponent),o(n,[{key:"render",value:function(){var e=this.props,r=e.rgba,n=e.className;return t.createElement("div",{className:n||"",style:{backgroundColor:"rgba(".concat(r[0],", ").concat(r[1],", ").concat(r[2],", ").concat(r[3],")")}})}}]),n}(),p=function(e){function n(t){var e;return r(this,n),a(c(e=f(this,u(n).call(this,t))),"hexToRgb",function(t){return t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,r,n){return"#".concat(e).concat(e).concat(r).concat(r).concat(n).concat(n)}).substring(1).match(/.{2}/g).map(function(t){return parseInt(t,16)})}),a(c(e),"rgbToHsl",function(t,e,r){t/=255,e/=255,r/=255;var n=Math.min(t,e,r),o=Math.max(t,e,r),a=o-n,i=0,u=0;return i=0==a?0:o==t?(e-r)/a%6:o==e?(r-t)/a+2:(t-e)/a+4,(i=Math.round(60*i))<0&&(i+=360),u=(o+n)/2,[i,+(100*(0==a?0:a/(1-Math.abs(2*u-1)))).toFixed(1),u=+(100*u).toFixed(1)]}),a(c(e),"hslToRgb",function(t,e,r){for((e/=100)>1?e=1:e<0&&(e=0),(r/=100)>1?r=1:r<0&&(r=0);t<0;)t+=360;t%=360;var n=(1-Math.abs(2*r-1))*e,o=n*(1-Math.abs(t/60%2-1)),a=r-n/2,i=0,u=0,s=0;return t>=0&&t<60?(i=n,u=o,s=0):t>=60&&t<120?(i=o,u=n,s=0):t>=120&&t<180?(i=0,u=n,s=o):t>=180&&t<240?(i=0,u=o,s=n):t>=240&&t<300?(i=o,u=0,s=n):t>=300&&t<360&&(i=n,u=0,s=o),[i=Math.round(255*(i+a)),u=Math.round(255*(u+a)),s=Math.round(255*(s+a))]}),a(c(e),"getRgbaValue",function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof t&&(t=e.hexToRgb(t)).push(1),r&&(t=e.offsetHslFromRgba(t,3.6*parseFloat(r.h),parseFloat(r.s),parseFloat(r.l))),t}),a(c(e),"offsetHslFromRgba",function(t,r,n,o){var a=e.rgbToHsl(t[0],t[1],t[2]),i=e.hslToRgb(a[0]+r,a[1]+n,a[2]+o);return[i[0],i[1],i[2],t[3]]}),e}return i(n,t.Component),o(n,[{key:"render",value:function(){var e=this.props,r=e.classes,n=e.layout,o=e.colors,a=[];for(var i in o)a.push(this.getRgbaValue(o[i]));for(var u in n){var s=n[u],c=s.offset_hsl,f=s.offset_from;c&&f&&o[f]&&a.push(this.getRgbaValue(o[f],c))}for(var p in n)n[p].static&&a.push(this.getRgbaValue(n[p].static));return t.createElement("div",{className:r&&r.root?r.root:""},a.map(function(e,n){return t.createElement(l,{key:n,className:r&&r.item?r.item:"",rgba:e})}))}}]),n}();p.propTypes={classes:e.shape({item:e.string,root:e.string}),layout:e.objectOf(e.shape({name:e.string.isRequired,offset_from:e.string,offset_hsl:e.shape({h:e.number,s:e.number,l:e.number}),static:e.string})).isRequired,colors:e.objectOf(e.string).isRequired};export default p;
