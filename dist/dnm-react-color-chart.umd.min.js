!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],r):(e=e||self).DnmColorChart=r(e.React,e.PropTypes)}(this,function(e,r){"use strict";var t="default"in e?e.default:e;function o(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,r){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e})(e,r)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var u=e.memo(function(e){var r=e.rgba,o=e.className,a=e.onClick,n="string"==typeof r?r:null;return t.createElement("div",{className:o||"",style:{backgroundColor:n?"unset":"rgba(".concat(r[0],", ").concat(r[1],", ").concat(r[2],", ").concat(r[3],")"),position:"relative"},onClick:a},n)}),c=function(e){function r(e){var t;return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),t=function(e,r){if(r&&("object"==typeof r||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}(this,n(r).call(this,e)),a(s(t),"hexToRgb",function(e){return e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,r,t,o){return"#".concat(r).concat(r).concat(t).concat(t).concat(o).concat(o)}).substring(1).match(/.{2}/g).map(function(e){return parseInt(e,16)})}),a(s(t),"rgbToHsl",function(e,r,t){e/=255,r/=255,t/=255;var o=Math.min(e,r,t),a=Math.max(e,r,t),n=a-o,i=0,s=0;return i=0==n?0:a==e?(r-t)/n%6:a==r?(t-e)/n+2:(e-r)/n+4,(i=Math.round(60*i))<0&&(i+=360),s=(a+o)/2,[i,+(100*(0==n?0:n/(1-Math.abs(2*s-1)))).toFixed(1),s=+(100*s).toFixed(1)]}),a(s(t),"hslToRgb",function(e,r,t){for((r/=100)>1?r=1:r<0&&(r=0),(t/=100)>1?t=1:t<0&&(t=0);e<0;)e+=360;e%=360;var o=(1-Math.abs(2*t-1))*r,a=o*(1-Math.abs(e/60%2-1)),n=t-o/2,i=0,s=0,u=0;return e>=0&&e<60?(i=o,s=a,u=0):e>=60&&e<120?(i=a,s=o,u=0):e>=120&&e<180?(i=0,s=o,u=a):e>=180&&e<240?(i=0,s=a,u=o):e>=240&&e<300?(i=a,s=0,u=o):e>=300&&e<360&&(i=o,s=0,u=a),[i=Math.round(255*(i+n)),s=Math.round(255*(s+n)),u=Math.round(255*(u+n))]}),a(s(t),"getRgbaValue",function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof e&&(e=t.hexToRgb(e)).push(1),r&&(e=t.offsetHslFromRgba(e,3.6*parseFloat(r.h),parseFloat(r.s),parseFloat(r.l))),e}),a(s(t),"offsetHslFromRgba",function(e,r,o,a){var n=t.rgbToHsl(e[0],e[1],e[2]),i=t.hslToRgb(n[0]+r,n[1]+o,n[2]+a);return[i[0],i[1],i[2],e[3]]}),a(s(t),"handleColorClick",function(e,r){var o=t.props.onColorClick;o&&o(e,r)}),t}var c,l,f;return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&i(e,r)}(r,t.Component),c=r,(l=[{key:"render",value:function(){var e=this,r=this.props,o=r.classes,a=r.layout,n=r.colors,i=r.children,s=[],c={};for(var l in n){var f=a[l];if(f)if(n[l].match(/{{\s*[\w\.]+\s*}}/))switch(n[l]){case"{{ mainColor }}":s.push({id:l,value:"P"});break;case"{{ secondaryColor }}":s.push({id:l,value:"S"});break;case"{{ extraColor }}":s.push({id:l,value:"A"});break;case"{{ readableExtraColor }}":s.push({id:l,value:"T"});break;case"{{ lightColor }}":s.push({id:l,value:"B"});break;case"{{ darkColor }}":s.push({id:l,value:"N"});break;case"{{ mainGradientColor }}":s.push({id:l,value:"gP"});break;case"{{ secondaryGradientColor }}":s.push({id:l,value:"gS"})}else{var p=this.getRgbaValue(n[l]);f.static?c[l]=p:s.push({id:l,value:p})}}for(var d in a){var h=a[d],b=h.offset_hsl,v=h.offset_from;if(b&&v&&n[v])if(n[v].match(/{{\s*[\w\.]+\s*}}/))switch(n[v]){case"{{ mainColor }}":s.push({id:d,value:"_P"});break;case"{{ secondaryColor }}":s.push({id:d,value:"_S"});break;case"{{ extraColor }}":s.push({id:d,value:"_A"});break;case"{{ readableExtraColor }}":s.push({id:d,value:"_T"});break;case"{{ lightColor }}":s.push({id:d,value:"_B"});break;case"{{ darkColor }}":s.push({id:d,value:"_N"});break;case"{{ mainGradientColor }}":s.push({id:d,value:"_gP"});break;case"{{ secondaryGradientColor }}":s.push({id:d,value:"_gS"})}else s.push({id:d,value:this.getRgbaValue(n[v],b)})}for(var g in a)a[g].static&&(c[g]?s.push({id:g,value:c[g]}):s.push({id:g,value:this.getRgbaValue(a[g].static)}));return t.createElement("div",{className:o&&o.root?o.root:""},s.map(function(r,a){return t.createElement(u,{key:a,className:o&&o.item?o.item:"",rgba:r.value,onClick:function(t){return e.handleColorClick(t,r)}})}),i)}}])&&o(c.prototype,l),f&&o(c,f),Object.defineProperty(c,"prototype",{writable:!1}),r}();return c.propTypes={classes:r.shape({item:r.string,root:r.string}),layout:r.objectOf(r.shape({name:r.string.isRequired,offset_from:r.string,offset_hsl:r.shape({h:r.number,s:r.number,l:r.number}),static:r.string})).isRequired,colors:r.objectOf(r.string).isRequired,onColorClick:r.func},c});
