!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):(e=e||self).DnmColorChart=t(e.React,e.PropTypes)}(this,function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var f=function(t){function n(){return r(this,n),l(this,u(n).apply(this,arguments))}return i(n,e.PureComponent),o(n,[{key:"render",value:function(){var t=this.props,r=t.rgba,n=t.className,o=t.onClick;return e.createElement("div",{className:n||"",style:{backgroundColor:"rgba(".concat(r[0],", ").concat(r[1],", ").concat(r[2],", ").concat(r[3],")")},onClick:o})}}]),n}(),p=function(t){function n(e){var t;return r(this,n),a(s(t=l(this,u(n).call(this,e))),"hexToRgb",function(e){return e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,r,n){return"#".concat(t).concat(t).concat(r).concat(r).concat(n).concat(n)}).substring(1).match(/.{2}/g).map(function(e){return parseInt(e,16)})}),a(s(t),"rgbToHsl",function(e,t,r){e/=255,t/=255,r/=255;var n=Math.min(e,t,r),o=Math.max(e,t,r),a=o-n,i=0,u=0;return i=0==a?0:o==e?(t-r)/a%6:o==t?(r-e)/a+2:(e-t)/a+4,(i=Math.round(60*i))<0&&(i+=360),u=(o+n)/2,[i,+(100*(0==a?0:a/(1-Math.abs(2*u-1)))).toFixed(1),u=+(100*u).toFixed(1)]}),a(s(t),"hslToRgb",function(e,t,r){for((t/=100)>1?t=1:t<0&&(t=0),(r/=100)>1?r=1:r<0&&(r=0);e<0;)e+=360;e%=360;var n=(1-Math.abs(2*r-1))*t,o=n*(1-Math.abs(e/60%2-1)),a=r-n/2,i=0,u=0,c=0;return e>=0&&e<60?(i=n,u=o,c=0):e>=60&&e<120?(i=o,u=n,c=0):e>=120&&e<180?(i=0,u=n,c=o):e>=180&&e<240?(i=0,u=o,c=n):e>=240&&e<300?(i=o,u=0,c=n):e>=300&&e<360&&(i=n,u=0,c=o),[i=Math.round(255*(i+a)),u=Math.round(255*(u+a)),c=Math.round(255*(c+a))]}),a(s(t),"getRgbaValue",function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof e&&(e=t.hexToRgb(e)).push(1),r&&(e=t.offsetHslFromRgba(e,3.6*parseFloat(r.h),parseFloat(r.s),parseFloat(r.l))),e}),a(s(t),"offsetHslFromRgba",function(e,r,n,o){var a=t.rgbToHsl(e[0],e[1],e[2]),i=t.hslToRgb(a[0]+r,a[1]+n,a[2]+o);return[i[0],i[1],i[2],e[3]]}),a(s(t),"handleColorClick",function(e,r){var n=t.props.onColorClick;n&&n(e,r)}),t}return i(n,e.Component),o(n,[{key:"render",value:function(){var t=this,r=this.props,n=r.classes,o=r.layout,a=r.colors,i=r.children,u=[],c={};for(var s in a){var l=o[s];if(l){var p=this.getRgbaValue(a[s]);l.static?c[s]=p:u.push({id:s,value:p})}}for(var b in o){var h=o[b],d=h.offset_hsl,y=h.offset_from;d&&y&&a[y]&&u.push({id:b,value:this.getRgbaValue(a[y],d)})}for(var g in o)o[g].static&&(c[g]?u.push({id:g,value:c[g]}):u.push({id:g,value:this.getRgbaValue(o[g].static)}));return e.createElement("div",{className:n&&n.root?n.root:""},u.map(function(r,o){return e.createElement(f,{key:o,className:n&&n.item?n.item:"",rgba:r.value,onClick:function(e){return t.handleColorClick(e,r)}})}),i)}}]),n}();return p.propTypes={classes:t.shape({item:t.string,root:t.string}),layout:t.objectOf(t.shape({name:t.string.isRequired,offset_from:t.string,offset_hsl:t.shape({h:t.number,s:t.number,l:t.number}),static:t.string})).isRequired,colors:t.objectOf(t.string).isRequired,onColorClick:t.func},p});
